<link rel="import" href="highcharts-behavior.html">
<link rel="import" href="highcharts-shared-styles.html">
<link rel="import" href="iron-ajax.html">

<dom-module id="highcharts-chart">
    <template>
        <style include="highcharts-shared-styles"></style>
        <div id="Chart" height="500px" width="150" on-click="_checkSelected"></div>
        <content></content>

        <iron-ajax
            id="requestRepos"
            url="https://api.github.com/users/burczu/repos"
            params='{"type":"all"}'
            handle-as="json"
            on-response="handleResponse">
        </iron-ajax>

    </template>
    <script>
        'use strict';
        Polymer({
            is: "highcharts-chart",
            behaviors: [Highcharts.Polymer_BaseBehavior, Highcharts.Polymer_ChartBehavior],
            properties: {type: {type: String, value: 'spline', observer: '_updateType'}},
            //ready: function() {this.__createChart()},
created: function(){
      console.log("The element was created")
      console.log(this)
      console.log(this.$)
      //console.log(this.$.title) <-- commented, it collapses with created method
    },

            ready: function () {
                this.$.requestRepos.generateRequest();
            },
            handleResponse: function (data) {
                //this.repos = data.detail.response;
                this.__createChart()
            }
        });
    </script>
</dom-module>
